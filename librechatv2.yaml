version: 1.2.4

cache: true

registration:
  socialLogins:
    - "discord"
    - "facebook"
    - "github"
    - "google"
    - "openid"

speech:
  tts:
    elevenlabs:
      apiKey: '${ELEVEN_LABS_API_KEY}'
      model: 'eleven_multilingual_v2'
      voices: ['HMKmLM1Scd5SFFEPwKHM', 'EWRqJitwZEd47upCn7L4']

memory:
  disabled: false
  validKeys:
    - "user_preferences"
    - "conversation_context" 
    - "learned_facts"
    - "personal_information"
  tokenLimit: 5000
  personalize: true
  messageWindowSize: 8
  agent:
    provider: "openAI"
    model: "gpt-4.1-nano"
    instructions: |
      Store memory using only the specified validKeys. For user_preferences: save 
      explicitly stated preferences about communication style, topics of interest, 
      or workflow preferences. For conversation_context: save important facts or 
      ongoing projects mentioned. For learned_facts: save objective information 
      about the user. For personal_information: save only what the user explicitly 
      shares about themselves. Delete outdated or incorrect information promptly.
    model_parameters:
      temperature: 0.2
      max_tokens: 5000
      top_p: 0.8
      frequency_penalty: 0.1

# MCP (Model Context Protocol) Server Configuration
mcpServers:
  claude-utils:
    type: sse
    url: ${MCP_CLAUDE_UTILS_ENDPOINT}
    headers:
      Authorization: "Bearer ${MCP_CLAUDE_UTILS_TOKEN}"
    timeout: 60000
  web-search:  
    type: sse
    url: ${MCP_WEB_SEARCH_ENDPOINT}
    headers:
      Authorization: "Bearer ${MCP_CLAUDE_UTILS_TOKEN}"
    timeout: 60000
  zep-memory:
    type: sse
    url: ${MCP_ZEP_MEMORY_ENDPOINT}
    headers:
      Authorization: "Bearer ${MCP_CLAUDE_UTILS_TOKEN}"
    timeout: 60000
  n8n-railway:
    command: npx
    args:
      - -y
      - mcp-remote
      - "${N8N_RAILWAY_MCP_ENDPOINT}"
      - --header
      - "Authorization: Bearer ${N8N_RAILWAY_MCP_TOKEN}"
    timeout: 60000
  exa:
    command: npx
    args:
      - -y
      - "@smithery/cli@latest"
      - run
      - exa
      - --key
      - "${SMITHERY_API_KEY}"
      - --profile
      - "${SMITHERY_PROFILE}"
    timeout: 60000 
  mem0-mcp:
    command: npx
    args:
      - -y
      - "@smithery/cli@latest"
      - run
      - "@big-omega/mem0-mcp"
      - --key
      - "${SMITHERY_API_KEY}"
      - --profile
      - "${SMITHERY_PROFILE}"
    timeout: 60000



endpoints:
  agents:
    recursionLimit: 50
    maxRecursionLimit: 100
    disableBuilder: false
    # (optional) Agent Capabilities available to all users. Omit the ones you wish to exclude. Defaults to list below.
    # capabilities: ["execute_code", "file_search", "actions", "tools", "artifacts", "ocr", "chain", "web_search"] 
  custom:

    # xAI
    # https://x.ai/api
    - name: "xai"
      apiKey: "${XAI_API_KEY}"
      baseURL: "https://api.x.ai/v1"
      models:
        default:
          - grok-4
        fetch: false
      titleConvo: true
      titleMethod: "completion"
      titleModel: "grok-beta"
      summarize: false
      summaryModel: "grok-beta"
      forcePrompt: false
      modelDisplayLabel: "Grok"
